(this["webpackJsonpreact-redux-crud-app"]=this["webpackJsonpreact-redux-crud-app"]||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),i=a(15),r=a.n(i),n=a(9),l=a(3),o=a(4);const d={FETCH_PRODUCTS:"FETCH_PRODUCTS",SET_PAGE_LIMIT:"SET_PAGE_LIMIT",RECEIVE_ARTWORK_PAGE:"RECEIVE_ARTWORK_PAGE",SEARCH_ARTWORK:"SEARCH_ARTWORK",SET_PRODUCTS:"SET_PRODUCTS",FETCH_DETAILS:"FETCH_DETAILS",SET_REMOVE_TOGGLE:"SET_REMOVE_TOGGLE",SET_PRODUCT_FAVOURITES:"SET_PRODUCT_FAVOURITES",SET_SEARCH_QUERY:"SET_SEARCH_QUERY",SET_FAVOURITES_PAGE:"SET_FAVOURITES_PAGE",SET_FAVOURITES_PAGE_LIMIT:"SET_FAVOURITES_PAGE_LIMIT"};var j=a(30),u=a.n(j).a.create({baseURL:"https://api.artic.edu/api/v1"});const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return async(a,s)=>{try{const{currentSearchQuery:c}=s().allProducts,i=c?`/artworks/search?q=${c}&page=${e}&limit=${t}&fields=id,title,image_id,artist_title`:`/artworks?page=${e}&limit=${t}&fields=id,title,image_id,artist_title`,r=await u.get(i);a({type:d.FETCH_PRODUCTS,payload:r.data.data}),a({type:d.RECEIVE_ARTWORK_PAGE,payload:r.data})}catch(c){console.error("Error fetching products:",c),a({type:d.FETCH_PRODUCTS_ERROR,payload:c.message})}}},p=e=>({type:d.SET_PAGE_LIMIT,payload:e}),O=e=>({type:d.SET_PRODUCT_FAVOURITES,payload:e});var m=a(16),h=a.n(m),g=a(0);var x=e=>{let{favourites:t=!1,products:a=null}=e;const c=Object(o.b)(),i=Object(o.c)((e=>e.allProducts.products)),r=Object(o.c)((e=>e.allProducts.productFavourites)),l=a||(t?r:i),[j,u]=Object(s.useState)({});Object(s.useEffect)((()=>{const e=l.reduce(((e,t)=>(e[t.id]=r.find((e=>e.id===t.id))?"../images/icons/heart.png":"../images/icons/like.png",e)),{});u(e)}),[r,l]);const b=e=>{c({type:d.SET_REMOVE_TOGGLE,payload:e});const t=r.some((t=>t.id===e.id));u((a=>({...a,[e.id]:t?"../images/icons/like.png":"../images/icons/heart.png"}))),t||h.a.success("Saved to your favourites!",{style:{border:"1px solid #4CAF50",padding:"16px",color:"#4CAF50"},iconTheme:{primary:"#4CAF50",secondary:"#FFFAEE"}})},p=l.map((e=>{const{id:t,title:a,image_id:s,artist_title:c}=e;let i="https://www.artic.edu/iiif/2/"+s+"/full/843,/0/default.jpg";"https://www.artic.edu/iiif/2/null/full/843,/0/default.jpg"===i&&(i="../images/icons/not-available.jpg");const r=j[t]?j[t]:"../images/icons/like.png";function l(e){window.location.pathname=`/product/${e}`}return Object(g.jsx)("div",{className:"image_grid column",children:Object(g.jsx)(n.b,{to:`/product/${t}`,children:Object(g.jsx)("div",{className:"ui link cards",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("div",{className:"image",onClick:()=>l(t),children:Object(g.jsx)("img",{src:i,alt:a})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("div",{className:"header",onClick:()=>l(t),children:a}),Object(g.jsxs)("div",{className:"flex_content",children:[Object(g.jsx)("div",{className:"meta",children:c}),Object(g.jsx)("div",{onClick:t=>{t.preventDefault(),t.stopPropagation(),b(e)},className:"fav_icon",children:Object(g.jsx)("img",{id:e.id,src:r,alt:"Favorite icon"})})]})]})]})})})},t)}));return Object(g.jsx)(g.Fragment,{children:p})};var v=e=>{let{currentPage:t,totalPages:a,pageLimit:s,onPageChange:c,onPageLimitChange:i}=e;const r=Object(o.b)(),n=e=>{c(e,s)},l=[];for(let o=1;o<=a;o++)l.push(o);return Object(g.jsxs)("div",{className:"pagination",children:[Object(g.jsx)("button",{className:"pagination-button",disabled:1===t,onClick:()=>n(t-1),children:"Prev"}),(()=>{if(a<=10)return l.map((e=>Object(g.jsx)("button",{className:"pagination-number "+(t===e?"active":""),onClick:()=>n(e),children:e},e)));{const e=t-5,s=t+4;let c=l.slice(e,s);return e<1?c=l.slice(0,10):s>a&&(c=l.slice(a-10,a)),Object(g.jsxs)(g.Fragment,{children:[t>5&&Object(g.jsx)("span",{children:"..."}),c.map((e=>Object(g.jsx)("button",{className:"pagination-number "+(t===e?"active":""),onClick:()=>n(e),children:e},e))),t<a-4&&Object(g.jsx)("span",{children:"..."})]})}})(),Object(g.jsx)("button",{className:"pagination-button",disabled:t===a,onClick:()=>n(t+1),children:"Next"}),Object(g.jsxs)("div",{className:"select-bar",children:[Object(g.jsx)("label",{htmlFor:"page-limit",children:"Results per page:"}),Object(g.jsxs)("select",{id:"page-limit",value:s,onChange:e=>{const t=parseInt(e.target.value,10);r(i(t)),r(c(1,t))},children:[Object(g.jsx)("option",{value:"5",children:"5"}),Object(g.jsx)("option",{value:"10",children:"10"}),Object(g.jsx)("option",{value:"15",children:"15"}),Object(g.jsx)("option",{value:"20",children:"20"}),Object(g.jsx)("option",{value:"25",children:"25"})]})]})]})};var E=()=>Object(g.jsx)("div",{className:"skeleton-loader",children:[...Array(12)].map(((e,t)=>Object(g.jsxs)("div",{className:"skeleton-card",children:[Object(g.jsx)("div",{className:"skeleton-image"}),Object(g.jsxs)("div",{className:"skeleton-content",children:[Object(g.jsx)("div",{className:"skeleton-title"}),Object(g.jsx)("div",{className:"skeleton-meta"})]})]},t)))});var _=()=>{const[e,t]=Object(s.useState)(!0),a=Object(o.b)(),{currentPage:c,totalPages:i,pageLimit:r}=Object(o.c)((e=>e.allProducts));Object(s.useEffect)((()=>{(async()=>{t(!0),await a(b(c,r)),document.getElementById("search-bar").style.display="inline";await(async()=>{const e=JSON.parse(localStorage.getItem("productFavourites"))||[];a(O(e))})(),t(!1)})()}),[a,c,r]);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"ui grid container",children:[Object(g.jsx)("h1",{className:"page-header",children:"Artworks"}),e?Object(g.jsx)(E,{}):Object(g.jsx)(x,{})]}),Object(g.jsx)("div",{className:"pagination",children:Object(g.jsx)(v,{currentPage:c,totalPages:i,pageLimit:r,onPageChange:(e,t)=>{a(b(e,t))},onPageLimitChange:e=>{a(p(e)),a(b(1,e))}})})]})};var T=()=>{const[e,t]=Object(s.useState)(!0),a=Object(o.b)(),{currentPage:c,totalPages:i,pageLimit:r,productFavourites:l}=Object(o.c)((e=>e.allProducts));Object(s.useEffect)((()=>{(async()=>{t(!0);document.getElementById("search-bar").style.display="none",document.getElementById("submit-search").style.display="none",await(async()=>{const e=await JSON.parse(localStorage.getItem("productFavourites"))||[];a(O(e))})(),t(!1)})()}),[a]);const j=l.slice((c-1)*r,c*r);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"ui grid container",children:[Object(g.jsxs)("div",{className:"page-header",children:[Object(g.jsx)("h1",{className:"page-title",children:"Your Favourites"}),Object(g.jsx)(n.b,{to:"/",className:"go-back-button",children:"Go Back"})]}),e?Object(g.jsx)(E,{}):Object(g.jsx)(x,{favourites:!0,products:j})]}),Object(g.jsx)("div",{className:"pagination",children:Object(g.jsx)(v,{currentPage:c,totalPages:Math.ceil(l.length/r),pageLimit:r,onPageChange:e=>a((e=>({type:d.SET_FAVOURITES_PAGE,payload:e}))(e)),onPageLimitChange:e=>a((e=>({type:d.SET_FAVOURITES_PAGE_LIMIT,payload:e}))(e))})})]})},S=a(68);var y=()=>{const[e,t]=Object(s.useState)(!1);return Object(g.jsx)("div",{className:"ui fixed menu",children:Object(g.jsxs)("div",{className:"ui container center",children:[Object(g.jsx)(n.b,{to:"/",children:Object(g.jsx)("h2",{className:"header-title",children:"Art Institute of Chicago Gallery"})}),Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"profile-link",href:"https://braydonviragh.com",children:"By Braydon Viragh"}),Object(g.jsx)("div",{className:"favourites-div",children:Object(g.jsxs)(n.b,{to:"/favourites",className:"favourites-link",children:[Object(g.jsx)("img",{src:"../images/icons/heart.png",alt:"Favorites icon"}),"Favourites"]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"hamburger-icon",children:Object(g.jsx)(S.a,{onToggle:t})}),Object(g.jsxs)("div",{className:"hamburger-menu "+(e?"open":"closed"),children:[Object(g.jsx)(n.b,{to:"/",onClick:()=>t(!1),children:"Art Institute of Chicago Gallery"}),Object(g.jsx)(n.b,{to:"/favourites",onClick:()=>t(!1),children:Object(g.jsxs)("span",{className:"favourite-nav-link",children:["Favourites",Object(g.jsx)("img",{src:"../images/icons/heart.png",alt:"Favorites icon"})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("h5",{children:"By Braydon Viragh"})]})]})]})})};a(65);var N=()=>Object(g.jsx)("div",{className:"product-detail-container skeleton",children:Object(g.jsxs)("div",{className:"product-detail-content",children:[Object(g.jsx)("div",{className:"product-image-container",children:Object(g.jsx)("div",{className:"product-image skeleton-box"})}),Object(g.jsxs)("div",{className:"product-info",children:[Object(g.jsx)("div",{className:"product-title skeleton-box"}),Object(g.jsxs)("div",{className:"product-meta",children:[Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"}),Object(g.jsx)("div",{className:"skeleton-box"})]})]})]})});var R=()=>{const{productId:e}=Object(l.f)(),[t,a]=Object(s.useState)(!0);let c=Object(o.c)((e=>e.allProducts.productDetail));const{title:i,image_id:r,artist_title:n,place_of_origin:j,medium_display:b,artwork_type_title:p,department_title:O,date_display:m,dimensions:h}=c,x=Object(o.b)();let v="https://www.artic.edu/iiif/2/"+r+"/full/843,/0/default.jpg";return"https://www.artic.edu/iiif/2/null/full/843,/0/default.jpg"===v&&(v="../images/icons/not-available.jpg"),Object(s.useEffect)((()=>{var t;return e&&""!==e&&(a(!0),x((t=e,async e=>{const a=await u.get(`/artworks/${t}`);e({type:d.FETCH_DETAILS,payload:a.data.data})})).then((()=>{a(!1)}))),document.getElementById("search-bar").style.display="none",document.getElementById("submit-search").style.display="none",()=>{x({type:d.REMOVE_SELECTED_PRODUCT})}}),[e,x]),t?Object(g.jsx)(N,{}):Object(g.jsx)("div",{className:"product-detail-container",children:Object(g.jsxs)("div",{className:"product-detail-content",children:[Object(g.jsx)("div",{className:"product-image-container",children:Object(g.jsx)("img",{src:v,alt:i,className:"product-image"})}),Object(g.jsxs)("div",{className:"product-info",children:[Object(g.jsx)("h1",{className:"product-title",children:i}),Object(g.jsxs)("div",{className:"product-meta",children:[Object(g.jsxs)("p",{className:"artist",children:[Object(g.jsx)("span",{children:"Artist:"})," ",n]}),Object(g.jsxs)("p",{className:"date",children:[Object(g.jsx)("span",{children:"Date:"})," ",m]}),Object(g.jsxs)("p",{className:"origin",children:[Object(g.jsx)("span",{children:"Origin:"})," ",j]}),Object(g.jsxs)("p",{className:"medium",children:[Object(g.jsx)("span",{children:"Medium:"})," ",b]}),Object(g.jsxs)("p",{className:"dimensions",children:[Object(g.jsx)("span",{children:"Dimensions:"})," ",h]}),Object(g.jsxs)("p",{className:"type",children:[Object(g.jsx)("span",{children:"Type:"})," ",p]}),Object(g.jsxs)("p",{className:"department",children:[Object(g.jsx)("span",{children:"Department:"})," ",O]})]})]})]})})};var f=()=>{const[e,t]=Object(s.useState)(""),a=Object(o.b)();return Object(g.jsxs)("form",{onSubmit:t=>{t.preventDefault(),a(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return async s=>{const c=await u.get(`/artworks/search?q=${e}&page=${t}&limit=${a}&&fields=id,title,image_id,artist_title`);s({type:d.SEARCH_ARTWORK,payload:c.data.data}),s({type:d.RECEIVE_ARTWORK_PAGE,payload:c.data}),s({type:d.SET_SEARCH_QUERY,payload:e})}}(e,1))},children:[Object(g.jsx)("input",{id:"search-bar",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search for artwork..."}),Object(g.jsx)("button",{id:"submit-search",className:"my-button-class",type:"submit",children:"Search"})]})};var P=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)(n.a,{children:[Object(g.jsx)(y,{}),Object(g.jsx)("div",{className:"absoluteSearchBar",children:Object(g.jsx)(f,{})}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/",exact:!0,component:_}),Object(g.jsx)(l.a,{path:"/product/:productId",component:R}),Object(g.jsx)(l.a,{path:"/favourites",component:T}),Object(g.jsx)(l.a,{children:"404 Not Found!"})]})]}),Object(g.jsx)(m.Toaster,{position:"top-center"})]})},A=a(12);const C={products:[],productDetail:[],productFavourites:[],favouriteDetail:[],currentPage:1,currentSearchQuery:"",totalPages:1,pageLimit:25,favouritesCurrentPage:1,favouritesPageLimit:25},I=Object(A.b)({allProducts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,{type:t,payload:a}=arguments.length>1?arguments[1]:void 0;switch(t){case d.FETCH_PRODUCTS:return{...e,products:a};case d.RECEIVE_ARTWORK_PAGE:return{...e,totalPages:a.pagination.total_pages,currentPage:a.pagination.current_page};case d.SET_PAGE_LIMIT:return{...e,pageLimit:a};case d.SET_PRODUCTS:case d.SEARCH_ARTWORK:return{...e,products:a};case d.SET_REMOVE_TOGGLE:let t=e.productFavourites?[...e.productFavourites]:[{}];if(0===t.length)t.push(a);else{let e=t.findIndex((e=>e.id===a.id));-1!==e?t.splice(e,1):t.push(a)}return localStorage.getItem("productFavourites")&&localStorage.removeItem("productFavourites"),localStorage.setItem("productFavourites",JSON.stringify(t)),{...e,productFavourites:t};case d.SET_PRODUCT_FAVOURITES:return{...e,productFavourites:a};case d.SET_FAVOURITE_DETAILS:return{...e,favouriteDetail:a};case d.FETCH_DETAILS:return{...e,productDetail:a};case d.SET_SEARCH_QUERY:return{...e,currentSearchQuery:a};case d.SET_FAVOURITES_PAGE:return{...e,favouritesCurrentPage:a};case d.SET_FAVOURITES_PAGE_LIMIT:return{...e,favouritesPageLimit:a,favouritesCurrentPage:1};default:return e}}});var F=I,k=a(31);const w=A.c;var L=Object(A.d)(F,w(Object(A.a)(k.a)));r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(o.a,{store:L,children:Object(g.jsx)(P,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.64a469ac.chunk.js.map