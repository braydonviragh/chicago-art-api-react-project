{"ast":null,"code":"import { ActionTypes } from \"../constants/action-types\";\nconst intialState = {\n  products: [],\n  productDetail: [],\n  productFavourites: [],\n  favouriteDetail: [],\n  currentPage: 1,\n  currentSearchQuery: \"\",\n  totalPages: 1,\n  pageLimit: 25\n};\n\n//My Setters for Products/Art -> Using Product as neutrul naming \nexport const productsReducer = (state = intialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ActionTypes.FETCH_PRODUCTS:\n      return {\n        ...state,\n        products: payload\n      };\n    case ActionTypes.RECEIVE_ARTWORK_PAGE:\n      return {\n        ...state,\n        totalPages: payload.pagination.total_pages,\n        currentPage: payload.pagination.current_page\n      };\n    case ActionTypes.SET_PAGE_LIMIT:\n      return {\n        ...state,\n        pageLimit: payload\n      };\n    case ActionTypes.SET_PRODUCTS:\n      return {\n        ...state,\n        products: payload\n      };\n    case ActionTypes.SEARCH_ARTWORK:\n      return {\n        ...state,\n        products: payload\n      };\n    case ActionTypes.SET_REMOVE_TOGGLE:\n      let newFavourites = state.productFavourites ? [...state.productFavourites] : [{}];\n      if (newFavourites.length == 0) {\n        newFavourites.push(payload);\n      } else {\n        let index = newFavourites.findIndex(item => item.id === payload.id);\n        if (index !== -1) {\n          newFavourites.splice(index, 1);\n        } else {\n          newFavourites.push(payload);\n        }\n      }\n      if (localStorage.getItem(\"productFavourites\")) {\n        localStorage.removeItem(\"productFavourites\");\n      }\n      localStorage.setItem(\"productFavourites\", JSON.stringify(newFavourites));\n      return {\n        ...state,\n        productFavourites: newFavourites\n      };\n    case ActionTypes.SET_PRODUCT_FAVOURITES:\n      return {\n        ...state,\n        productFavourites: payload\n      };\n    case ActionTypes.SET_FAVOURITE_DETAILS:\n      return {\n        ...state,\n        favouriteDetail: payload\n      };\n    case ActionTypes.FETCH_DETAILS:\n      return {\n        ...state,\n        productDetail: payload\n      };\n    case ActionTypes.SET_SEARCH_QUERY:\n      return {\n        ...state,\n        currentSearchQuery: payload\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ActionTypes","intialState","products","productDetail","productFavourites","favouriteDetail","currentPage","currentSearchQuery","totalPages","pageLimit","productsReducer","state","type","payload","FETCH_PRODUCTS","RECEIVE_ARTWORK_PAGE","pagination","total_pages","current_page","SET_PAGE_LIMIT","SET_PRODUCTS","SEARCH_ARTWORK","SET_REMOVE_TOGGLE","newFavourites","length","push","index","findIndex","item","id","splice","localStorage","getItem","removeItem","setItem","JSON","stringify","SET_PRODUCT_FAVOURITES","SET_FAVOURITE_DETAILS","FETCH_DETAILS","SET_SEARCH_QUERY"],"sources":["C:/Users/Braydon/Documents/sites/chicago-art-api-react-project/src/redux/reducers/productsReducer.js"],"sourcesContent":["import { ActionTypes } from \"../constants/action-types\";\r\nconst intialState = {\r\n  products: [],\r\n  productDetail: [],\r\n  productFavourites: [],\r\n  favouriteDetail: [],\r\n  currentPage: 1,\r\n  currentSearchQuery: \"\",\r\n  totalPages: 1,\r\n  pageLimit: 25\r\n};\r\n\r\n//My Setters for Products/Art -> Using Product as neutrul naming \r\nexport const productsReducer = (state = intialState, { type, payload }) => {\r\n  switch (type) {\r\n    case ActionTypes.FETCH_PRODUCTS:\r\n      return { ...state, products: payload };\r\n      case ActionTypes.RECEIVE_ARTWORK_PAGE:\r\n        return { ...state, totalPages: payload.pagination.total_pages, currentPage: payload.pagination.current_page };\r\n      case ActionTypes.SET_PAGE_LIMIT:\r\n        return { ...state, pageLimit: payload };\r\n      case ActionTypes.SET_PRODUCTS:\r\n        return { ...state, products: payload };\r\n      case ActionTypes.SEARCH_ARTWORK:\r\n        return { ...state, products: payload};\r\n      case ActionTypes.SET_REMOVE_TOGGLE:\r\n        let newFavourites = (state.productFavourites) ? [...state.productFavourites] : [{}];\r\n        if(newFavourites.length == 0) { \r\n          newFavourites.push(payload);\r\n        } else { \r\n          let index = newFavourites.findIndex(item => item.id === payload.id);\r\n          if (index !== -1) {\r\n              newFavourites.splice(index, 1);\r\n          } else {\r\n              newFavourites.push(payload);\r\n          }\r\n        }\r\n        if(localStorage.getItem(\"productFavourites\")) { \r\n          localStorage.removeItem(\"productFavourites\")\r\n        }\r\n        localStorage.setItem(\"productFavourites\", JSON.stringify(newFavourites));\r\n        return { ...state, productFavourites: newFavourites };\r\n      case ActionTypes.SET_PRODUCT_FAVOURITES:\r\n        return { ...state, productFavourites: payload};\r\n      case ActionTypes.SET_FAVOURITE_DETAILS:\r\n        return { ...state, favouriteDetail: payload};\r\n      case ActionTypes.FETCH_DETAILS:\r\n        return { ...state, productDetail: payload};\r\n      case ActionTypes.SET_SEARCH_QUERY:\r\n        return { ...state, currentSearchQuery: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,2BAA2B;AACvD,MAAMC,WAAW,GAAG;EAClBC,QAAQ,EAAE,EAAE;EACZC,aAAa,EAAE,EAAE;EACjBC,iBAAiB,EAAE,EAAE;EACrBC,eAAe,EAAE,EAAE;EACnBC,WAAW,EAAE,CAAC;EACdC,kBAAkB,EAAE,EAAE;EACtBC,UAAU,EAAE,CAAC;EACbC,SAAS,EAAE;AACb,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAGA,CAACC,KAAK,GAAGV,WAAW,EAAE;EAAEW,IAAI;EAAEC;AAAQ,CAAC,KAAK;EACzE,QAAQD,IAAI;IACV,KAAKZ,WAAW,CAACc,cAAc;MAC7B,OAAO;QAAE,GAAGH,KAAK;QAAET,QAAQ,EAAEW;MAAQ,CAAC;IACtC,KAAKb,WAAW,CAACe,oBAAoB;MACnC,OAAO;QAAE,GAAGJ,KAAK;QAAEH,UAAU,EAAEK,OAAO,CAACG,UAAU,CAACC,WAAW;QAAEX,WAAW,EAAEO,OAAO,CAACG,UAAU,CAACE;MAAa,CAAC;IAC/G,KAAKlB,WAAW,CAACmB,cAAc;MAC7B,OAAO;QAAE,GAAGR,KAAK;QAAEF,SAAS,EAAEI;MAAQ,CAAC;IACzC,KAAKb,WAAW,CAACoB,YAAY;MAC3B,OAAO;QAAE,GAAGT,KAAK;QAAET,QAAQ,EAAEW;MAAQ,CAAC;IACxC,KAAKb,WAAW,CAACqB,cAAc;MAC7B,OAAO;QAAE,GAAGV,KAAK;QAAET,QAAQ,EAAEW;MAAO,CAAC;IACvC,KAAKb,WAAW,CAACsB,iBAAiB;MAChC,IAAIC,aAAa,GAAIZ,KAAK,CAACP,iBAAiB,GAAI,CAAC,GAAGO,KAAK,CAACP,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACnF,IAAGmB,aAAa,CAACC,MAAM,IAAI,CAAC,EAAE;QAC5BD,aAAa,CAACE,IAAI,CAACZ,OAAO,CAAC;MAC7B,CAAC,MAAM;QACL,IAAIa,KAAK,GAAGH,aAAa,CAACI,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKhB,OAAO,CAACgB,EAAE,CAAC;QACnE,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;UACdH,aAAa,CAACO,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;QAClC,CAAC,MAAM;UACHH,aAAa,CAACE,IAAI,CAACZ,OAAO,CAAC;QAC/B;MACF;MACA,IAAGkB,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,EAAE;QAC5CD,YAAY,CAACE,UAAU,CAAC,mBAAmB,CAAC;MAC9C;MACAF,YAAY,CAACG,OAAO,CAAC,mBAAmB,EAAEC,IAAI,CAACC,SAAS,CAACb,aAAa,CAAC,CAAC;MACxE,OAAO;QAAE,GAAGZ,KAAK;QAAEP,iBAAiB,EAAEmB;MAAc,CAAC;IACvD,KAAKvB,WAAW,CAACqC,sBAAsB;MACrC,OAAO;QAAE,GAAG1B,KAAK;QAAEP,iBAAiB,EAAES;MAAO,CAAC;IAChD,KAAKb,WAAW,CAACsC,qBAAqB;MACpC,OAAO;QAAE,GAAG3B,KAAK;QAAEN,eAAe,EAAEQ;MAAO,CAAC;IAC9C,KAAKb,WAAW,CAACuC,aAAa;MAC5B,OAAO;QAAE,GAAG5B,KAAK;QAAER,aAAa,EAAEU;MAAO,CAAC;IAC5C,KAAKb,WAAW,CAACwC,gBAAgB;MAC/B,OAAO;QAAE,GAAG7B,KAAK;QAAEJ,kBAAkB,EAAEM;MAAQ,CAAC;IACpD;MACE,OAAOF,KAAK;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}